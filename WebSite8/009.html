<!DOCTYPE html>
<html>
<head>
    <title></title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>

    <style>
        #D001 {
            width: 100%;
        }

        hr {
            display: block;
            margin-top: 0.5em;
            margin-bottom: 0.5em;
            margin-left: auto;
            margin-right: auto;
            border-style: inset;
            border-width: 1px;
        }
    </style>
</head>

<body>
    <div class="jumbotron text-center">
        <h1 align="center">DevDiary</h1>                    <!--CHANGE-->
    </div>

    <div class="container">
        <div class="row">
            <div class="col-sm-12">
                <h3><a href="001.html">HOME</a></h3>        <!--ADDED-->
            </div>                                          <!--ADDED-->
        </div>                                              <!--ADDED-->
    </div>                                                  <!--ADDED-->

    <div class="container">
        <div class="row">
            <div class="col-sm-6">
                <h3>PM Console: Enable Migrations</h3>
                <img src="images7/efMmig01a.png" id="D003" />
            </div>
            <div class="col-sm-6">
                <h3>Enable Migrations</h3>
                <p>Typing "enable-migrations" into the PM console enables migrations.</p>
                <p>It creates a folder called "Migrations".</p>
                <p>Inside the migrations folder is a configuration file.</p>
                <p>The user can set automatic migrations and you can put your database seed code in the "seed override method". </p>
            </div>
        </div><br><hr>
    </div>

    <div class="container">
        <div class="row">
            <div class="col-sm-6">
                <h3>Solution Explorer</h3>
                <img src="images7/efMmig01b.png" id="D003" />
            </div>
            <div class="col-sm-6">
                <h3>Migrations/Configuration.cs</h3>
                <img src="images7/efMmig01c.png" id="D003" />
            </div>
        </div><br><hr>
    </div>

    <div class="container">
        <div class="row">
            <div class="col-sm-6">
                <h3>PM Console: Add Migration</h3>
                <p>The command "Add-Migration" followed by the name "initial" creates a migration with the name "initial".</p>
                <p>NOTE: PM Conosle is <b>not</b> case sensitive.</p>
            </div>
            <div class="col-sm-6">
                <h3>Migrations/Initial.cs</h3>
                <p>A few files are created along including a class for the migration.</p>
                <p>The date and time is put in the name of the files in UTC.</p>
                <p>2021-03-04 (date), 17:02 (time), 321 (seconds).</p>
            </div>
        </div><br><hr>
    </div>

    <div class="container">
        <div class="row">
            <div class="col-sm-6">
                <h3>PM Console: Add Migration</h3>
                <img src="images7/efMmig02a.png" id="D003" />
            </div>
            <div class="col-sm-6">
                <h3>Migrations/Initial.cs</h3>
                <img src="images7/efMmig02b.png" id="D003" />
            </div>
        </div><br><hr>
    </div>

    <div class="container">
        <div class="row">
            <div class="col-sm-6">
                <h3>Migrations/Initial.cs</h3>
                <img src="images7/efMmig03a.png" id="D003" />
            </div>
            <div class="col-sm-6">
                <h3>Migrations/Initial.cs</h3>
                <p>The intial class contains two methods, up and down.</p>
                <p>The "Up" method contains code to update the database to be in sync wth the model that was used to generate this migration.</p>
                <p>The "Down" method contains code to remove the updates that were applied in the "Up" method, so that the database will be in sync with the previous version of the model.</p>
            </div>
        </div><br><hr>
    </div>

    <div class="container">
        <div class="row">
            <div class="col-sm-6">
                <h3>Migrations/Initial.cs: Up Method</h3>
                <img src="images7/efMmig03b.png" id="D003" />
            </div>
            <div class="col-sm-6">
                <h3>Migrations/Initial.cs: Down Method</h3>
                <img src="images7/efMmig03c.png" id="D003" />
            </div>
        </div><br><hr>
    </div>

    <div class="container">
        <div class="row">
            <div class="col-sm-6">
                <h3>App.Config</h3>
                <img src="images7/efMmig04a.png" id="D003" />
            </div>
            <div class="col-sm-6">
                <h3>Set Database Name</h3>
                <p>The app.config file contains the connection string.</p>
                <p>The "Initial Catalog" parameter defines the name of the database the EF will generate.</p>
                <p>The sceenshots below show "updating the database."</p>
                <p>"update-databse" is typed into the package manager console.</p>
                <p>It uses the initial migration to update the database.</p>
                <p>Because there is no database at the moment the database is created.</p>
                <p>Note that the database is empty because the seed method in the configuration class is empty.</p>
            </div>
        </div><br><hr>
    </div>

    <div class="container">
        <div class="row">
            <div class="col-sm-6">
                <h3>PM Console: "update-database"</h3>
                <img src="images7/efMmig05a.png" id="D003" />
            </div>
            <div class="col-sm-6">
                <h3>Empty Database Created</h3>
                <img src="images7/efMmig05b.png" id="D003" />
            </div>
        </div><br><hr>
    </div>

    <div class="container">
        <div class="row">
            <div class="col-sm-6">
                <h3>Configuration.cs: Seed</h3>
                <img src="images7/seed3.png" id="D003" />
            </div>
            <div class="col-sm-6">
                <h3>Configuration.cs: Seed</h3>
                <img src="images7/seed4.png" id="D003" />
            </div>
        </div><br><hr>
    </div>

    <div class="container">
        <div class="row">
            <div class="col-sm-6">
                <h3>PM Console: "update-database"</h3>
                <img src="images7/efMmig05e.png" id="D003" />
            </div>
            <div class="col-sm-6">
                <h3>Populate Database</h3>
                <p>Deleting the database and running the "update-database" command again.</p>
                <p>The database is created again.</p>
                <p>The seed method is executed whch populates the database with data.</p>
                <p>The screenshots below show the contents of the tables.</p>
                <p>It also shows the "program" code which just queries the database, retrieves all of the comicbooks and displays them.</p>
            </div>
        </div><br><hr>
    </div>

    <div class="container">
        <div class="row">
            <div class="col-sm-6">
                <h3>ComicBook Table</h3>
                <img src="images7/efMmig06a.png" id="D003" />
            </div>
            <div class="col-sm-6">
                <h3>Artist Table</h3>
                <img src="images7/efMmig06b.png" id="D003" />
            </div>
        </div><br><hr>
    </div>

    <div class="container">
        <div class="row">
            <div class="col-sm-6">
                <h3>Program.cs</h3>
                <img src="images7/efMmig07a.png" id="D003" />
            </div>
            <div class="col-sm-6">
                <h3>Console Output</h3>
                <img src="images7/efMmig07b.png" id="D003" />
            </div>
        </div><br><hr>
    </div>

    <div class="container">
        <div class="row">
            <div class="col-sm-6">
                <h3>Artist Class</h3>
                <img src="images7/efMmig09a.png" id="D003" />
            </div>
            <div class="col-sm-6">
                <h3>Add "Bio" Property</h3>
                <p>Added a new property to the "Artist" class.</p>
                <p>"Bio" is a string.</p>
                <p>The property has the data annotation [Required] which makes it non-nullable.</p>
                <p>Making this change, means that the data model has been altered.</p>
            </div>
        </div><br><hr>
    </div>

    <div class="container">
        <div class="row">
            <div class="col-sm-6">
                <h3>PM Console: Add-Migration</h3>
                <img src="images7/efMmig10a.png" id="D003" />
            </div>
            <div class="col-sm-6">
                <h3>New Migration: "AddBioToArtist"</h3>
                <p>A new migration is created and named "AddBioToArtist".</p>
                <p>In the screenshots below you can see that the new migration file has been added with a time-stamp.</p>
                <p>You can also see the Up and Down method.</p>
            </div>
        </div><br><hr>
    </div>

    <div class="container">
        <div class="row">
            <div class="col-sm-6">
                <h3>Solution Explorer</h3>
                <img src="images7/efMmig11a.png" id="D003" />
            </div>
            <div class="col-sm-6">
                <h3>New Migration: "AddBioToArtist"</h3>
                <img src="images7/efMmig11b.png" id="D003" />
            </div>
        </div><br><hr>
    </div>

    <div class="container">
        <div class="row">
            <div class="col-sm-6">
                <h3>Configuration.cs</h3>
                <img src="images7/efMmig12a.png" id="D003" />
            </div>
            <div class="col-sm-6">
                <h3>Update Seed Method</h3>
                <p>In the seed method, the Artist objects now need a "Bio".</p>
                <p>For both of the artist objects in the seed method, the Bio property has been set to "TBD".</p>
                <p>Without this, when updating the database, an error would occur because "Bio" is required.</p>
                <p>In the screenshots below the command "update-database" is entered into the PM Console.</p>
                <p>The "AddBioToArtist" migration is applied and the seed method is executed.</p>
                <p>In the Artist table, you can see that a new column has appeared for the "Bio".</p>
                <p></p>
            </div>
        </div><br><hr>
    </div>

    <div class="container">
        <div class="row">
            <div class="col-sm-6">
                <h3>PM Console</h3>
                <img src="images7/efMmig12b.png" id="D003" />
            </div>
            <div class="col-sm-6">
                <h3>Artist Table</h3>
                <img src="images7/efMmig13a.png" id="D003" />
            </div>
        </div><br><hr>
    </div>

    <div class="container">
        <div class="row">
            <div class="col-sm-6">
                <h3>Migration History Table</h3>
                <img src="images7/efDown01.png" id="D003" />
            </div>
            <div class="col-sm-6">
                <h3>Downgrade to "Initial" Migration</h3>
                <p>Both migrations have been applied again.</p>
                <p>To downgrade database, type "update-database -targetmigration Initial".</p>
                <p>This reverts the "AddBioToArtist" migration.</p>
                <p>Now the migration history table only shows the initial migration.</p>
                <p>The next two screenshots show this process.</p>
            </div>
        </div><br><hr>
    </div>

    <div class="container">
        <div class="row">
            <div class="col-sm-6">
                <h3>PM Console: Downgrade Database</h3>
                <img src="images7/efDown02.png" id="D003" />
            </div>
            <div class="col-sm-6">
                <h3>Migration History Table</h3>
                <img src="images7/efDown03a.png" id="D003" />
            </div>
        </div><br><hr>
    </div>

    <div class="container">
        <div class="row">
            <div class="col-sm-6">
                <h3>Artist Table</h3>
                <img src="images7/efDown03b.png" id="D003" />
            </div>
            <div class="col-sm-6">
                <h3>Downgrade to "Initial" Migration</h3>
                <p>The "Bio" column has been removed from the table.</p>
                <p>In the "Artist" class the "Bio" property still exists.</p>
                <p>The seed method, in the configuraion class, still contains code related to the "Bio" property.</p>
                <p>The next two screenshots show this.</p>
            </div>
        </div><br><hr>
    </div>

    <div class="container">
        <div class="row">
            <div class="col-sm-6">
                <h3>Artist Model</h3>
                <img src="images7/efDown03d.png" id="D003" />
            </div>
            <div class="col-sm-6">
                <h3>Configuration Class</h3>
                <img src="images7/efDown03e.png" id="D003" />
            </div>
        </div><br><hr>
    </div>

    <div class="container">
        <div class="row">
            <div class="col-sm-6">
                <h3>Revert All Migrations</h3>
                <img src="images7/efDown04a.png" id="D003" />
            </div>
            <div class="col-sm-6">
                <h3>All Tables Removed From DB</h3>
                <img src="images7/efDown04b.png" id="D003" />
            </div>
        </div><br><hr>
    </div>

    <div class="container">
        <div class="row">
            <div class="col-sm-6">
                <h3>Applying All Migrations</h3>
                <img src="images7/efDown05a.png" id="D003" />
            </div>
            <div class="col-sm-6">
                <h3>Migration History Table</h3>
                <img src="images7/efDown05b.png" id="D003" />
            </div>
        </div><br><hr>
    </div>

    <div class="container">
        <div class="row">
            <div class="col-sm-6">
                <h3>ComicBook Table</h3>
                <img src="images7/efMmig06a.png" id="D003" />
            </div>
            <div class="col-sm-6">
                <h3>Updating Model</h3>
                <!--<img src="images7/efDown05b.png" id="D003" />-->
                <p>fdffd</p>
            </div>
        </div><br><hr>
    </div>

    <div class="container">
        <div class="row">
            <div class="col-sm-6">
                <h3>Applying All Migrations</h3>
                <img src="images7/efZ01.png" id="D003" />
            </div>
            <div class="col-sm-6">
                <h3>Migration History Table</h3>
                <img src="images7/efZ02.png" id="D003" />
            </div>
        </div><br><hr>
    </div>

    <div class="container">
        <div class="row">
            <div class="col-sm-6">
                <h3>Applying All Migrations</h3>
                <img src="images7/efZ03.png" id="D003" />
            </div>
            <div class="col-sm-6">
                <h3>Migration History Table</h3>
                <img src="images7/efZ03b.png" id="D003" />
            </div>
        </div><br><hr>
    </div>

    <!--<div class="container">
        <div class="row">
            <div class="col-sm-6">
                <h3>Bubble Sort: For-Loop and If</h3>
                <img src="images6/bubble2.png" id="D003" />
            </div>
            <div class="col-sm-6">
                <h3>Bubble Sort: Calculation</h3>
                <p>For the 1st cycle, the value "4" and the array "4, 2, 3, 1" is passed in.</p>
                <p>The for-loop executes 4 times.</p>
                <p>The first and second elements of the array are compared, "<b>4</b>, <b>2</b>, 3, 1" and if the number on the left is larger the elements are swapped.</p>
                <p>In this case it is true so the array becomes, "<b>2</b>, <b>4</b>, 3, 1"</p>
                <p>This effectively moves the largest number in the array from the left to the right resulting in the array, "2, 3, 1, 4"</p>
                <p>When the 2nd cycle of "sort2" runs the the value "3" and the array "2, 3, 1, 4" is passed in.</p>
                <p>After this for-loop the array becomes "2, 1, 3, 4", essentially moving the second largest number in the array to the right.</p>
                <p>The process is continued until the array becomes, "1, 2, 3, 4".</p>
            </div>
        </div><br><hr>
    </div>

    <div class="container">
        <div class="row">
            <div class="col-sm-6">
                <h3>Bubble Sort: Print Array</h3>
                <img src="images6/bubble1.png" id="D003" />
            </div>
            <div class="col-sm-6">
                <h3>Bubble Sort: DRY Principle</h3>
                <p>This static method takes in an array but doesn't return a value.</p>
                <p>It just prints the array to the console.</p>
                <p>I created it because the code was repeating.</p>
            </div>
        </div><br><hr>
    </div>

    <div class="container">
        <div class="row">
            <div class="col-sm-6">
                <h3>Bubble Sort: 4, 2, 3, 1</h3>
                <img src="images6/bubble5.png" id="D003" />

            </div>
            <div class="col-sm-6">
                <h3>Bubble Sort: 3, 6, 2, 5</h3>
                <img src="images6/bubble6.png" id="D003" />
            </div>
        </div><br><hr>
    </div>-->


    <br>
    <br>
    <br>
    <br>

</body>
</html>
